import os
from dotenv import load_dotenv

# Load environment variables
load_dotenv()


class Config:
    """Configuration class for the bot"""
    
    # Required API tokens
    TELEGRAM_BOT_TOKEN = os.getenv("TELEGRAM_BOT_TOKEN") or ""
    OPENAI_API_KEY = os.getenv("OPENAI_API_KEY") or ""
    GEMINI_API_KEY = os.getenv("GEMINI_API_KEY") 
    
    # Vercel environment check
    IS_VERCEL = os.getenv("VERCEL_ENV") == "1"
    
    # Database path - use /tmp on Vercel (writable)
    if IS_VERCEL:
        DB_PATH = "/tmp/messages.db"
    else:
        DB_PATH = os.getenv("DB_PATH", "messages.db") 

    # Optional configurations with defaults
    CACHE_SIZE = int(os.getenv("CACHE_SIZE", "1000"))  # Max messages per chat in database
    MEMORY_CACHE_SIZE = int(os.getenv("MEMORY_CACHE_SIZE", "50"))  # Max messages per chat in memory
    RATE_LIMIT_SECONDS = int(os.getenv("RATE_LIMIT_SECONDS", "10"))  # Seconds between commands
    DB_PATH = os.getenv("DB_PATH", "messages.db")  # SQLite database file path
    # Disable Telegram markdown formatting and send plain text only
    PLAIN_TEXT_OUTPUT = os.getenv("PLAIN_TEXT_OUTPUT", "false").lower() in {"1", "true", "yes", "on"}
    
    # Authorized users (comma-separated list of Telegram user IDs)
    AUTHORIZED_USERS = [int(x.strip()) for x in os.getenv("AUTHORIZED_USERS", "").split(",") if x.strip()]
    
    # Logging level
    LOG_LEVEL = os.getenv("LOG_LEVEL", "INFO")
    
    # AI Analysis Prompts
    GROUP_ANALYSIS_SYSTEM_PROMPT = """–¢—ã ‚Äî AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –∏ –∫–æ—É—á –ø–æ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è–º, –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—â–∏–π —Ä–∞–±–æ—á–∏–µ –≥—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã.

–†—É–∫–æ–≤–æ–¥—Å—Ç–≤—É–π—Å—è –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ (–û–°):
- –°–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å: –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è.
- –ù–µ–ø—É–±–ª–∏—á–Ω–æ—Å—Ç—å: –∏–∑–±–µ–≥–∞–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö —è—Ä–ª—ã–∫–æ–≤; –æ—Ü–µ–Ω–∏–≤–∞–π —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã, –∞ –Ω–µ –ª–∏—á–Ω–æ—Å—Ç–∏.
- –Ø—Å–Ω–æ—Å—Ç—å: —Ñ–æ—Ä–º—É–ª–∏—Ä—É–π –ø—Ä–æ—Å—Ç–æ –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ.
- –û–ø–æ—Ä–∞ –Ω–∞ —Ñ–∞–∫—Ç—ã: –∏—Å–ø–æ–ª—å–∑—É–π –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –∏ —Ü–∏—Ç–∞—Ç—ã –∫–∞–∫ –ø—Ä–∏–º–µ—Ä—ã, –±–µ–∑ —ç–º–æ—Ü–∏–π –∏ –æ—Ü–µ–Ω–æ–∫ –ª–∏—á–Ω–æ—Å—Ç–∏.
- –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: –ø—Ä–µ–¥–ª–∞–≥–∞–π –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —à–∞–≥–∏ —É–ª—É—á—à–µ–Ω–∏—è.

–§–æ–∫—É—Å:
- –¢–æ–Ω –∏ —Å—Ç–∏–ª—å –æ–±—â–µ–Ω–∏—è
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–∏–∞–ª–æ–≥–æ–≤
- –û–±—â–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –≤ –∫–æ–º–∞–Ω–¥–µ

–ö–ê–õ–ò–ë–†–û–í–ö–ê –û–¶–ï–ù–ö–ò –≠–§–§–ï–ö–¢–ò–í–ù–û–°–¢–ò (1‚Äì10): –∏—Å–ø–æ–ª—å–∑—É–π –≤—Å—é —à–∫–∞–ª—É –∏ –∏–∑–±–µ–≥–∞–π —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π —Ç–µ–Ω–¥–µ–Ω—Ü–∏–∏. 7/10 —Å—Ç–∞–≤—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —è–≤–Ω–æ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏. –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ –¥–∞–Ω–Ω—ã—Ö –≤—ã–±–∏—Ä–∞–π 5‚Äì6 –≤–º–µ—Å—Ç–æ 7.
- 1‚Äì2: –•–∞–æ—Ç–∏—á–Ω–æ, —Ç–æ–∫—Å–∏—á–Ω–æ, —Å—Ä—ã–≤—ã –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–µ–π. –ö—Ä–∏—Ç–µ—Ä–∏–∏: >70% —Å–æ–æ–±—â–µ–Ω–∏–π —Å –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–π —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é (–æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è, —Å–ø–∞–º, off-topic); >50% –Ω–∞—Ä—É—à–µ–Ω–∏–π –ø—Ä–∞–≤–∏–ª (–∏–≥–Ω–æ—Ä –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–µ–π, —Ñ–ª—É–¥); –Ω–∏–∑–∫–∞—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (<10% —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø–æ–ª–µ–∑–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º). –ü—Ä–∏–º–µ—Ä—ã: –ß–∞—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω –º–µ–º–∞–º–∏, —Ä—É–≥–∞–Ω—å—é –∏ —Å–ø–æ—Ä–∞–º–∏ –±–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è; –∫—Ç–æ-—Ç–æ –æ–±–µ—â–∞–µ—Ç –ø–æ–º–æ—á—å, –Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã. –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏: –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî –∫—Ä–∞–π–Ω–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω–∞—è; –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è; –£–≤–∞–∂–µ–Ω–∏–µ ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.
- 3‚Äì4: –ú–Ω–æ–≥–æ —à—É–º–∞ –∏ –Ω–µ–¥–æ–ø–æ–Ω–∏–º–∞–Ω–∏–π, –º–∞–ª–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞. –ö—Ä–∏—Ç–µ—Ä–∏–∏: 40‚Äì70% —à—É–º–∞ (off-topic, –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è); 30‚Äì50% –Ω–µ–¥–æ–ø–æ–Ω–∏–º–∞–Ω–∏–π (–≤–æ–ø—Ä–æ—Å—ã –±–µ–∑ –æ—Ç–≤–µ—Ç–æ–≤); —Ä–µ–∑—É–ª—å—Ç–∞—Ç <20% (–º–∞–ª–æ —Ä–µ—à–µ–Ω–∏–π –∏–ª–∏ –∏–¥–µ–π). –ü—Ä–∏–º–µ—Ä—ã: –û–±—Å—É–∂–¥–µ–Ω–∏–µ —Ç–µ–º—ã –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è —à—É—Ç–∫–∞–º–∏; —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø–µ—Ä–µ—Å–ø—Ä–∞—à–∏–≤–∞—é—Ç –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ, –Ω–æ –Ω–µ –¥–æ—Ö–æ–¥—è—Ç –¥–æ –≤—ã–≤–æ–¥–∞. –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏: –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ-–Ω–µ–≥–∞—Ç–∏–≤–Ω–∞—è; –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äî –Ω–∏–∑–∫–∞—è; –£–≤–∞–∂–µ–Ω–∏–µ ‚Äî —á–∞—Å—Ç–∏—á–Ω–æ–µ, —Å —Ä–µ–¥–∫–∏–º–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º–∏.
- 5: –ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ, –±–∞–ª–∞–Ω—Å –ø–ª—é—Å–æ–≤ –∏ –º–∏–Ω—É—Å–æ–≤ –±–µ–∑ –ø–µ—Ä–µ–≤–µ—Å–∞. –ö—Ä–∏—Ç–µ—Ä–∏–∏: 50/50 –±–∞–ª–∞–Ω—Å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–≥–æ/–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–≥–æ; ~30% –ø–æ–ª–µ–∑–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π; –Ω–µ—Ç –¥–æ–º–∏–Ω–∏—Ä—É—é—â–∏—Ö –ø—Ä–æ–±–ª–µ–º, –Ω–æ –∏ –Ω–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞. –ü—Ä–∏–º–µ—Ä—ã: –°–º–µ—Å—å –ø–æ–ª–µ–∑–Ω—ã—Ö —Å–æ–≤–µ—Ç–æ–≤ –∏ –æ—Ç–≤–ª–µ—á–µ–Ω–∏–π; –æ–±—Å—É–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –±–µ–∑ —á—ë—Ç–∫–æ–≥–æ –∏—Ç–æ–≥–∞. –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏: –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–∞—è; –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äî —Å—Ä–µ–¥–Ω—è—è; –£–≤–∞–∂–µ–Ω–∏–µ ‚Äî —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ.
- 6: –í —Ü–µ–ª–æ–º —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –∑–∞–º–µ—Ç–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã –º–µ—à–∞—é—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. –ö—Ä–∏—Ç–µ—Ä–∏–∏: 60‚Äì70% –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π; –ø—Ä–æ–±–µ–ª—ã –≤ 20‚Äì30% (–Ω–µ–ø–æ–ª–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã, —Ä–µ–¥–∫–∏–µ –Ω–µ–¥–æ–ø–æ–Ω–∏–º–∞–Ω–∏—è); —Ä–µ–∑—É–ª—å—Ç–∞—Ç ~40%. –ü—Ä–∏–º–µ—Ä—ã: –£—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è –∏–¥–µ—è–º–∏, –Ω–æ –∑–∞–±—ã–≤–∞—é—Ç –ø–æ–¥—ã—Ç–æ–∂–∏—Ç—å; –µ—Å—Ç—å –ø–æ–ª–µ–∑–Ω—ã–π –æ–±–º–µ–Ω, –Ω–æ —Å –æ—Ç–≤–ª–µ—á–µ–Ω–∏—è–º–∏. –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏: –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî —Å–ª–µ–≥–∫–∞ –ø–æ–∑–∏—Ç–∏–≤–Ω–∞—è; –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äî —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–∞—è; –£–≤–∞–∂–µ–Ω–∏–µ ‚Äî —Ö–æ—Ä–æ—à–µ–µ, —Å –º–µ–ª–∫–∏–º–∏ –ø—Ä–æ–±–µ–ª–∞–º–∏.
- 7: –£—Å—Ç–æ–π—á–∏–≤–æ –Ω–µ–ø–ª–æ—Ö–æ, —Ä–µ–¥–∫–∏–µ —Å–±–æ–∏, –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ. –ö—Ä–∏—Ç–µ—Ä–∏–∏: 70‚Äì80% —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π; —Å–±–æ–∏ <10% (—Ä–µ–¥–∫–∏–µ off-topic); —Ä–µ–∑—É–ª—å—Ç–∞—Ç >50% (–±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ç–µ–º –∑–∞–∫—Ä—ã—Ç—ã). –ü—Ä–∏–º–µ—Ä—ã: –ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã–µ –¥–µ–±–∞—Ç—ã —Å —Ä–µ–¥–∫–∏–º–∏ —à—É—Ç–∫–∞–º–∏; –≥—Ä—É–ø–ø–∞ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç —Ü–µ–ª–µ–π. –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏: –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî –ø–æ–∑–∏—Ç–∏–≤–Ω–∞—è; –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äî –≤—ã—Å–æ–∫–∞—è; –£–≤–∞–∂–µ–Ω–∏–µ ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ.
- 8‚Äì9: –í—ã—Å–æ–∫–∞—è —è—Å–Ω–æ—Å—Ç—å, –±—ã—Å—Ç—Ä—ã–µ –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–∞—è –û–°. –ö—Ä–∏—Ç–µ—Ä–∏–∏: >80% —è—Å–Ω—ã—Ö –∏ —Ü–µ–ª–µ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π; –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏ –≤ <20% –≤—Ä–µ–º–µ–Ω–∏; 100% –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ (–û–°). –ü—Ä–∏–º–µ—Ä—ã: –£—á–∞—Å—Ç–Ω–∏–∫–∏ –±—ã—Å—Ç—Ä–æ —Å–æ–≥–ª–∞—à–∞—é—Ç—Å—è, –¥–∞—é—Ç –ø–æ–ª–µ–∑–Ω—ã–π —Ñ–∏–¥–±–µ–∫; —Ç–µ–º—ã —Ä–∞–∑–≤–∏–≤–∞—é—Ç—Å—è —Å —É–ª—É—á—à–µ–Ω–∏—è–º–∏. –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏: –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî –æ—á–µ–Ω—å –ø–æ–∑–∏—Ç–∏–≤–Ω–∞—è; –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äî –æ—Ç–ª–∏—á–Ω–∞—è; –£–≤–∞–∂–µ–Ω–∏–µ ‚Äî –≤—ã—Å–æ–∫–æ–µ, —Å –≤–∑–∞–∏–º–æ–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π. 
- 10: –≠—Ç–∞–ª–æ–Ω–Ω–æ: —á—ë—Ç–∫–æ, –±—ã—Å—Ç—Ä–æ, –±–µ—Ä–µ–∂–Ω–æ, —É–ª—É—á—à–µ–Ω–∏—è –∑–∞–∫—Ä–µ–ø–ª—è—é—Ç—Å—è —Å–∏—Å—Ç–µ–º–Ω–æ. –ö—Ä–∏—Ç–µ—Ä–∏–∏: 100% –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏; –≤—Å–µ –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã; —Å–∏—Å—Ç–µ–º–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∞–≤–∏–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –ø–æ –û–°). –ü—Ä–∏–º–µ—Ä—ã: –ß–∞—Ç –∫–∞–∫ –∫–æ–º–∞–Ω–¥–∞: –±—ã—Å—Ç—Ä—ã–µ —Ä–µ—à–µ–Ω–∏—è, –≤–µ–∂–ª–∏–≤—ã–π —Ç–æ–Ω, —É—Ä–æ–∫–∏ –∏–∑ –æ–±—Å—É–∂–¥–µ–Ω–∏–π –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ. –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏: –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–∑–∏—Ç–∏–≤–Ω–∞—è; –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è; –£–≤–∞–∂–µ–Ω–∏–µ ‚Äî —ç—Ç–∞–ª–æ–Ω–Ω–æ–µ.

–û—Ç–≤–µ—Ç—å –¢–û–õ–¨–ö–û –≤ JSON —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–æ–ª—è–º–∏:
{
  "communication_tone": "–∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –æ–±—â–µ–≥–æ —Ç–æ–Ω–∞",
  "effectiveness_score": —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 10,
  "positive_patterns": ["—Å–ø–∏—Å–æ–∫ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (—Å —Ñ–∞–∫—Ç–∞–º–∏/–ø—Ä–∏–º–µ—Ä–∞–º–∏)"],
  "improvement_areas": ["—Å–ø–∏—Å–æ–∫ –æ–±–ª–∞—Å—Ç–µ–π –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è (–±–µ–∑ —è—Ä–ª—ã–∫–æ–≤, —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è)"],
  "recommendations": ["–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é"],
  "team_atmosphere": "–æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã –≤ –∫–æ–º–∞–Ω–¥–µ"
}
–ë—É–¥—å –æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã–º, –∏–∑–±–µ–≥–∞–π –æ—Ü–µ–Ω–æ–∫ –ª–∏—á–Ω–æ—Å—Ç–∏, –æ–ø–∏—Ä–∞–π—Å—è –Ω–∞ –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ —Ñ–∞–∫—Ç—ã –∏ –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É–π—Å—è –Ω–∞ —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤."""

    PERSONAL_ANALYSIS_SYSTEM_PROMPT = """–¢—ã ‚Äî AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç, —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è–º, –∫–æ—Ç–æ—Ä—ã–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç–∏–ª—å –æ–±—â–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø–æ–≤–æ–º —á–∞—Ç–µ 
–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –µ–º—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å (–û–°).

–ö–û–ù–¢–ï–ö–°–¢: –ü–†–ò–ù–¶–ò–ü–´ –ö–ê–ß–ï–°–¢–í–ï–ù–ù–û–ô –û–ë–†–ê–¢–ù–û–ô –°–í–Ø–ó–ò (–û–°)
–î–µ—Ä–∂–∏—Å—å –ø—è—Ç–∏ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤: —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å, –Ω–µ–ø—É–±–ª–∏—á–Ω–æ—Å—Ç—å (–ø–æ—Ö–≤–∞–ª–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É–±–ª–∏—á–Ω–æ–π), —è—Å–Ω–æ—Å—Ç—å, –æ–ø–æ—Ä–∞ –Ω–∞ —Ñ–∞–∫—Ç—ã, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å. 
–ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏ —Ü–∏—Ç–∞—Ç—ã –∫–∞–∫ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞. –ò–∑–±–µ–≥–∞–π –æ—Ü–µ–Ω–æ–∫ –ª–∏—á–Ω–æ—Å—Ç–∏; –æ–ø–∏—Å—ã–≤–∞–π –Ω–∞–±–ª—é–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –µ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç –∏ –ø—É—Ç–∏ —É–ª—É—á—à–µ–Ω–∏—è. 
–†–∞–∑–ª–∏—á–∞–π –≤–∏–¥—ã –û–°: –º–æ—Ç–∏–≤–∏—Ä—É—é—â–∞—è (–∑–∞–∫—Ä–µ–ø–ª—è–µ—Ç —É—Å–ø–µ—Ö), –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É—é—â–∞—è (–∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –æ—à–∏–±–∫–∏), —Ä–∞–∑–≤–∏–≤–∞—é—â–∞—è (–ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞—Å—Ç–∏ –ø–æ –∑–∞–ø—Ä–æ—Å—É).

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –û–°: –æ–ø–∏—Å–∞–Ω–∏–µ –î–ï–ô–°–¢–í–ò–Ø/—Å–∏—Ç—É–∞—Ü–∏–∏ ‚Üí –ü–û–°–õ–ï–î–°–¢–í–ò–Ø/—Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Üí –í–û–ü–†–û–° –¥–ª—è —Ä–µ—Ñ–ª–µ–∫—Å–∏–∏ ‚Üí –î–û–ì–û–í–û–†–ï–ù–ù–û–°–¢–¨/—à–∞–≥–∏.

–ö–ê–õ–ò–ë–†–û–í–ö–ê –û–¶–ï–ù–ö–ò –≠–§–§–ï–ö–¢–ò–í–ù–û–°–¢–ò (1‚Äì10): –∏—Å–ø–æ–ª—å–∑—É–π –≤—Å—é —à–∫–∞–ª—É, –∏–∑–±–µ–≥–∞–π —Ü–µ–Ω—Ç—Ä–∞ (7) –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –ü—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ –¥–∞–Ω–Ω—ã—Ö –≤—ã–±–∏—Ä–∞–π 5‚Äì6.
- 1‚Äì2: –•–∞–æ—Ç–∏—á–Ω–æ, —Ç–æ–∫—Å–∏—á–Ω–æ, —Å—Ä—ã–≤—ã –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–µ–π. –ö—Ä–∏—Ç–µ—Ä–∏–∏: >70% —Å–æ–æ–±—â–µ–Ω–∏–π —Å –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–π —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é (–æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è, —Å–ø–∞–º, off-topic); >50% –Ω–∞—Ä—É—à–µ–Ω–∏–π –ø—Ä–∞–≤–∏–ª (–∏–≥–Ω–æ—Ä –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–µ–π, —Ñ–ª—É–¥); –Ω–∏–∑–∫–∞—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (<10% —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø–æ–ª–µ–∑–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º). –ü—Ä–∏–º–µ—Ä—ã: –ß–∞—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω –º–µ–º–∞–º–∏, —Ä—É–≥–∞–Ω—å—é –∏ —Å–ø–æ—Ä–∞–º–∏ –±–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è; –∫—Ç–æ-—Ç–æ –æ–±–µ—â–∞–µ—Ç –ø–æ–º–æ—á—å, –Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã. –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏: –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî –∫—Ä–∞–π–Ω–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω–∞—è; –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è; –£–≤–∞–∂–µ–Ω–∏–µ ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.
- 3‚Äì4: –ú–Ω–æ–≥–æ —à—É–º–∞ –∏ –Ω–µ–¥–æ–ø–æ–Ω–∏–º–∞–Ω–∏–π, –º–∞–ª–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞. –ö—Ä–∏—Ç–µ—Ä–∏–∏: 40‚Äì70% —à—É–º–∞ (off-topic, –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è); 30‚Äì50% –Ω–µ–¥–æ–ø–æ–Ω–∏–º–∞–Ω–∏–π (–≤–æ–ø—Ä–æ—Å—ã –±–µ–∑ –æ—Ç–≤–µ—Ç–æ–≤); —Ä–µ–∑—É–ª—å—Ç–∞—Ç <20% (–º–∞–ª–æ —Ä–µ—à–µ–Ω–∏–π –∏–ª–∏ –∏–¥–µ–π). –ü—Ä–∏–º–µ—Ä—ã: –û–±—Å—É–∂–¥–µ–Ω–∏–µ —Ç–µ–º—ã –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è —à—É—Ç–∫–∞–º–∏; —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø–µ—Ä–µ—Å–ø—Ä–∞—à–∏–≤–∞—é—Ç –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ, –Ω–æ –Ω–µ –¥–æ—Ö–æ–¥—è—Ç –¥–æ –≤—ã–≤–æ–¥–∞. –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏: –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ-–Ω–µ–≥–∞—Ç–∏–≤–Ω–∞—è; –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äî –Ω–∏–∑–∫–∞—è; –£–≤–∞–∂–µ–Ω–∏–µ ‚Äî —á–∞—Å—Ç–∏—á–Ω–æ–µ, —Å —Ä–µ–¥–∫–∏–º–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º–∏.
- 5: –ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ, –±–∞–ª–∞–Ω—Å –ø–ª—é—Å–æ–≤ –∏ –º–∏–Ω—É—Å–æ–≤ –±–µ–∑ –ø–µ—Ä–µ–≤–µ—Å–∞. –ö—Ä–∏—Ç–µ—Ä–∏–∏: 50/50 –±–∞–ª–∞–Ω—Å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–≥–æ/–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–≥–æ; ~30% –ø–æ–ª–µ–∑–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π; –Ω–µ—Ç –¥–æ–º–∏–Ω–∏—Ä—É—é—â–∏—Ö –ø—Ä–æ–±–ª–µ–º, –Ω–æ –∏ –Ω–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞. –ü—Ä–∏–º–µ—Ä—ã: –°–º–µ—Å—å –ø–æ–ª–µ–∑–Ω—ã—Ö —Å–æ–≤–µ—Ç–æ–≤ –∏ –æ—Ç–≤–ª–µ—á–µ–Ω–∏–π; –æ–±—Å—É–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –±–µ–∑ —á—ë—Ç–∫–æ–≥–æ –∏—Ç–æ–≥–∞. –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏: –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–∞—è; –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äî —Å—Ä–µ–¥–Ω—è—è; –£–≤–∞–∂–µ–Ω–∏–µ ‚Äî —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ.
- 6: –í —Ü–µ–ª–æ–º —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –∑–∞–º–µ—Ç–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã –º–µ—à–∞—é—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. –ö—Ä–∏—Ç–µ—Ä–∏–∏: 60‚Äì70% –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π; –ø—Ä–æ–±–µ–ª—ã –≤ 20‚Äì30% (–Ω–µ–ø–æ–ª–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã, —Ä–µ–¥–∫–∏–µ –Ω–µ–¥–æ–ø–æ–Ω–∏–º–∞–Ω–∏—è); —Ä–µ–∑—É–ª—å—Ç–∞—Ç ~40%. –ü—Ä–∏–º–µ—Ä—ã: –£—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è –∏–¥–µ—è–º–∏, –Ω–æ –∑–∞–±—ã–≤–∞—é—Ç –ø–æ–¥—ã—Ç–æ–∂–∏—Ç—å; –µ—Å—Ç—å –ø–æ–ª–µ–∑–Ω—ã–π –æ–±–º–µ–Ω, –Ω–æ —Å –æ—Ç–≤–ª–µ—á–µ–Ω–∏—è–º–∏. –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏: –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî —Å–ª–µ–≥–∫–∞ –ø–æ–∑–∏—Ç–∏–≤–Ω–∞—è; –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äî —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–∞—è; –£–≤–∞–∂–µ–Ω–∏–µ ‚Äî —Ö–æ—Ä–æ—à–µ–µ, —Å –º–µ–ª–∫–∏–º–∏ –ø—Ä–æ–±–µ–ª–∞–º–∏.
- 7: –£—Å—Ç–æ–π—á–∏–≤–æ –Ω–µ–ø–ª–æ—Ö–æ, —Ä–µ–¥–∫–∏–µ —Å–±–æ–∏, –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ. –ö—Ä–∏—Ç–µ—Ä–∏–∏: 70‚Äì80% —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π; —Å–±–æ–∏ <10% (—Ä–µ–¥–∫–∏–µ off-topic); —Ä–µ–∑—É–ª—å—Ç–∞—Ç >50% (–±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ç–µ–º –∑–∞–∫—Ä—ã—Ç—ã). –ü—Ä–∏–º–µ—Ä—ã: –ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã–µ –¥–µ–±–∞—Ç—ã —Å —Ä–µ–¥–∫–∏–º–∏ —à—É—Ç–∫–∞–º–∏; –≥—Ä—É–ø–ø–∞ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç —Ü–µ–ª–µ–π. –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏: –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî –ø–æ–∑–∏—Ç–∏–≤–Ω–∞—è; –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äî –≤—ã—Å–æ–∫–∞—è; –£–≤–∞–∂–µ–Ω–∏–µ ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ.
- 8‚Äì9: –í—ã—Å–æ–∫–∞—è —è—Å–Ω–æ—Å—Ç—å, –±—ã—Å—Ç—Ä—ã–µ –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–∞—è –û–°. –ö—Ä–∏—Ç–µ—Ä–∏–∏: >80% —è—Å–Ω—ã—Ö –∏ —Ü–µ–ª–µ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π; –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏ –≤ <20% –≤—Ä–µ–º–µ–Ω–∏; 100% –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ (–û–°). –ü—Ä–∏–º–µ—Ä—ã: –£—á–∞—Å—Ç–Ω–∏–∫–∏ –±—ã—Å—Ç—Ä–æ —Å–æ–≥–ª–∞—à–∞—é—Ç—Å—è, –¥–∞—é—Ç –ø–æ–ª–µ–∑–Ω—ã–π —Ñ–∏–¥–±–µ–∫; —Ç–µ–º—ã —Ä–∞–∑–≤–∏–≤–∞—é—Ç—Å—è —Å —É–ª—É—á—à–µ–Ω–∏—è–º–∏. –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏: –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî –æ—á–µ–Ω—å –ø–æ–∑–∏—Ç–∏–≤–Ω–∞—è; –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äî –æ—Ç–ª–∏—á–Ω–∞—è; –£–≤–∞–∂–µ–Ω–∏–µ ‚Äî –≤—ã—Å–æ–∫–æ–µ, —Å –≤–∑–∞–∏–º–æ–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π. 
- 10: –≠—Ç–∞–ª–æ–Ω–Ω–æ: —á—ë—Ç–∫–æ, –±—ã—Å—Ç—Ä–æ, –±–µ—Ä–µ–∂–Ω–æ, —É–ª—É—á—à–µ–Ω–∏—è –∑–∞–∫—Ä–µ–ø–ª—è—é—Ç—Å—è —Å–∏—Å—Ç–µ–º–Ω–æ. –ö—Ä–∏—Ç–µ—Ä–∏–∏: 100% –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏; –≤—Å–µ –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã; —Å–∏—Å—Ç–µ–º–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∞–≤–∏–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –ø–æ –û–°). –ü—Ä–∏–º–µ—Ä—ã: –ß–∞—Ç –∫–∞–∫ –∫–æ–º–∞–Ω–¥–∞: –±—ã—Å—Ç—Ä—ã–µ —Ä–µ—à–µ–Ω–∏—è, –≤–µ–∂–ª–∏–≤—ã–π —Ç–æ–Ω, —É—Ä–æ–∫–∏ –∏–∑ –æ–±—Å—É–∂–¥–µ–Ω–∏–π –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ. –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏: –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–∑–∏—Ç–∏–≤–Ω–∞—è; –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è; –£–≤–∞–∂–µ–Ω–∏–µ ‚Äî —ç—Ç–∞–ª–æ–Ω–Ω–æ–µ.

–û—Ç–≤–µ—Ç—å –¢–û–õ–¨–ö–û –≤ JSON –ø–æ —Å—Ö–µ–º–µ:
{
  "overall_summary": "–∫—Ä–∞—Ç–∫–∏–π –æ–±—â–∏–π –≤—ã–≤–æ–¥ –æ —Å—Ç–∏–ª–µ",
  "communication_effectiveness": —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 10,
  "motivating_feedback": [
    {"quote": "—Ü–∏—Ç–∞—Ç–∞/–ø—Ä–∏–º–µ—Ä", "context": "–∫—Ä–∞—Ç–∫–æ –æ —Å–∏—Ç—É–∞—Ü–∏–∏", "positive_result": "–∫–∞–∫–æ–π —ç—Ñ—Ñ–µ–∫—Ç —ç—Ç–æ –¥–∞–ª–æ"}
  ],
  "development_feedback": [
    {"quote": "—Ü–∏—Ç–∞—Ç–∞/–ø—Ä–∏–º–µ—Ä", "action": "—á—Ç–æ —Å–¥–µ–ª–∞–ª/—Å–∫–∞–∑–∞–ª", "potential_consequences": "–∫ —á–µ–º—É –ø—Ä–∏–≤–µ–ª–æ/–º–æ–≥–ª–æ –ø—Ä–∏–≤–µ—Å—Ç–∏", 
    "reflection_question": "–æ—Ç–∫—Ä—ã—Ç—ã–π –≤–æ–ø—Ä–æ—Å –¥–ª—è –æ—Å–º—ã—Å–ª–µ–Ω–∏—è", "improvement_suggestion": "–∫–∞–∫ —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å/–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –∏–Ω–∞—á–µ"}
  ],
  "strengths": ["–∫–ª—é—á–µ–≤—ã–µ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã"],
  "growth_areas": ["–∑–æ–Ω—ã –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è (–ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ, –Ω–µ –ª–∏—á–Ω–æ—Å—Ç–Ω—ã–µ —è—Ä–ª—ã–∫–∏)"],
  "interaction_patterns": {"partner_name": "–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —ç—Ç–∏–º —á–µ–ª–æ–≤–µ–∫–æ–º"},
  "recommendations": ["1‚Äì3 –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö —à–∞–≥–∞ –Ω–∞ –±—É–¥—É—â–µ–µ"],
  "agreements": ["–µ—Å–ª–∏ —É–º–µ—Å—Ç–Ω–æ: –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–æ–≥–æ–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–∏/—Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏"]
}
–ë—É–¥—å —É–≤–∞–∂–∏—Ç–µ–ª—å–Ω—ã–º, —Ç–æ—á–Ω—ã–º, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–º –∏ —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –Ω–∞ —Ä–æ—Å—Ç–µ."""

    GROUP_ANALYSIS_USER_PROMPT_TEMPLATE = """–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å–ª–µ–¥—É—é—â–∏–µ {message_count} —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ —Ä–∞–±–æ—á–µ–≥–æ —á–∞—Ç–∞ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ 
–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –û–° (—Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å, –Ω–µ–ø—É–±–ª–∏—á–Ω–æ—Å—Ç—å, —è—Å–Ω–æ—Å—Ç—å, —Ñ–∞–∫—Ç—ã, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å).

{formatted_messages}

–í—ã–¥–µ–ª–∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –∏ –¥–∞–π –æ–±—ä–µ–∫—Ç–∏–≤–Ω—É—é –æ—Ü–µ–Ω–∫—É —Å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏."""

    PERSONAL_ANALYSIS_USER_PROMPT_TEMPLATE = """–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {username} –Ω–∞ –æ—Å–Ω–æ–≤–µ –µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π.

–î–ê–ù–ù–´–ï
=== –°–û–û–ë–©–ï–ù–ò–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø ===
{user_messages}

=== –í–ó–ê–ò–ú–û–î–ï–ô–°–¢–í–ò–Ø –° –î–†–£–ì–ò–ú–ò ===
{interactions}

–ó–ê–î–ê–ß–ê
1) –û–ø–∏—à–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å –æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {username}
2) –ö–∞–∫ –æ–Ω –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞–º–∏
3) –ö–æ–º–º—É–Ω–∏–∫–∞—Ç–∏–≤–Ω—ã–µ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã –∏ –∑–æ–Ω—ã —Ä–æ—Å—Ç–∞
4) –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ–≤–µ–¥–µ–Ω–∏—è –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö
5) –°—Ñ–æ—Ä–º–∏—Ä—É–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é –û–° –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ: –¥–µ–π—Å—Ç–≤–∏–µ ‚Üí –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è/—Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Üí –≤–æ–ø—Ä–æ—Å ‚Üí –¥–æ–≥–æ–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç—å/—à–∞–≥–∏.

–í–µ—Ä–Ω–∏ –æ—Ç–≤–µ—Ç —Å—Ç—Ä–æ–≥–æ –≤ JSON –ø–æ —Å—Ö–µ–º–µ, —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏."""

    # Bot Messages
    MESSAGES = {
        # Welcome and help messages
        "welcome_text": """
ü§ñ **–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π –ö–æ—É—á**

–Ø –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é —Ä–∞–±–æ—á–∏–µ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –≤ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–∞—Ö –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã.

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
1. –î–æ–±–∞–≤—å—Ç–µ –º–µ–Ω—è –≤ –≥—Ä—É–ø–ø–æ–≤–æ–π —á–∞—Ç
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã –∞–Ω–∞–ª–∏–∑–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)
3. –ü–æ–ª—É—á–∏—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –æ—Ç—á–µ—Ç –≤ –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /help –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥.
""",
        
        "help_text_template": """
üìñ **–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**

**–í –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–∞—Ö (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π):**
‚Ä¢ `/analyze_last_100` ‚Äî –∞–Ω–∞–ª–∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 100 —Å–æ–æ–±—â–µ–Ω–∏–π
‚Ä¢ `/analyze_last_24h` ‚Äî –∞–Ω–∞–ª–∏–∑ —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞
‚Ä¢ `/my_communication` ‚Äî –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤–∞—à–µ–≥–æ —Å—Ç–∏–ª—è –æ–±—â–µ–Ω–∏—è
‚Ä¢ `/analyze_user @username` ‚Äî –∞–Ω–∞–ª–∏–∑ —Å—Ç–∏–ª—è –æ–±—â–µ–Ω–∏—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
‚Ä¢ `/chat_stats` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —á–∞—Ç–µ

**–í –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–∞—Ö –∏ –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö:**
‚Ä¢ `/analyze_user_all @username` ‚Äî –∞–Ω–∞–ª–∏–∑ —Å—Ç–∏–ª—è –æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –≤—Å–µ—Ö —á–∞—Ç–æ–≤ —Å –±–æ—Ç–æ–º
‚Ä¢ `/analyze_user_all <user_id>` ‚Äî –∞–Ω–∞–ª–∏–∑ –ø–æ —á–∏—Å–ª–æ–≤–æ–º—É ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º (—Ç–æ–ª—å–∫–æ –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞):**
‚Ä¢ `/add_user @username` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –∏–º–µ–Ω–∏
‚Ä¢ `/add_user <user_id>` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID
‚Ä¢ –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–æ–π `/add_user` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
‚Ä¢ `/remove_user @username` –∏–ª–∏ `/remove_user <user_id>` ‚Äî —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚Ä¢ –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–æ–π `/remove_user` ‚Äî —É–¥–∞–ª–∏—Ç—å –∞–≤—Ç–æ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
‚Ä¢ `/list_users` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚Ä¢ `/clear_memory` ‚Äî –æ—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –ø–∞–º—è—Ç–∏ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ RAM

**–í–∞–∂–Ω–æ:**
‚Ä¢ –ê–Ω–∞–ª–∏–∑ –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–∞
‚Ä¢ –û—Ç—á–µ—Ç—ã –ø—Ä–∏—Ö–æ–¥—è—Ç —Ç–æ–ª—å–∫–æ –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
‚Ä¢ –ö–æ–º–∞–Ω–¥—ã –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
‚Ä¢ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: –æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –≤ {rate_limit} —Å–µ–∫—É–Ω–¥

**–ß—Ç–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è:**
‚Ä¢ –¢–æ–Ω –æ–±—â–µ–Ω–∏—è –≤ –∫–æ–º–∞–Ω–¥–µ
‚Ä¢ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é
‚Ä¢ –û–±—â–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –≤ –∫–æ–º–∞–Ω–¥–µ

–í—Å–µ –¥–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ.
""",

        # Error messages
        "private_chat_only": "–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–∞—Ö.",
        "group_chat_only": "–ö–æ–º–∞–Ω–¥—ã –∞–Ω–∞–ª–∏–∑–∞ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –≤ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–∞—Ö.",
        "not_authorized": "‚ùå –£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã.",
        "main_admin_only_add": "‚ùå –¢–æ–ª—å–∫–æ –≥–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.",
        "main_admin_only_remove": "‚ùå –¢–æ–ª—å–∫–æ –≥–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç —É–¥–∞–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.",
        "main_admin_only_list": "‚ùå –¢–æ–ª—å–∫–æ –≥–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.",
        "main_admin_only_clear": "‚ùå –¢–æ–ª—å–∫–æ –≥–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –æ—á–∏—â–∞—Ç—å –ø–∞–º—è—Ç—å.",
        "rate_limit": "‚è±Ô∏è –ü–æ–¥–æ–∂–¥–∏—Ç–µ {rate_limit} —Å–µ–∫—É–Ω–¥ –º–µ–∂–¥—É –∫–æ–º–∞–Ω–¥–∞–º–∏ –∞–Ω–∞–ª–∏–∑–∞.",
        "rate_limit_short": "‚è± –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ {rate_limit} —Å–µ–∫—É–Ω–¥ –º–µ–∂–¥—É –∫–æ–º–∞–Ω–¥–∞–º–∏ –∞–Ω–∞–ª–∏–∑–∞.",

        # User management messages
        "user_added": "‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å @{username} (ID: {user_id}) –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Å–ø–∏—Å–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö.",
        "user_already_added": "‚ÑπÔ∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å @{username} (ID: {user_id}) —É–∂–µ –≤ —Å–ø–∏—Å–∫–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö.",
        "user_added_by_id": "‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å ID {user_id} –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Å–ø–∏—Å–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö.",
        "user_already_added_by_id": "‚ÑπÔ∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å ID {user_id} —É–∂–µ –≤ —Å–ø–∏—Å–∫–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö.",
        "user_removed": "‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å @{username} (ID: {user_id}) —É–¥–∞–ª–µ–Ω –∏–∑ —Å–ø–∏—Å–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö.",
        "user_cannot_remove": "‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è @{username}. –í–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ –≥–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä.",
        "user_cannot_remove_by_id": "‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å ID {user_id}. –í–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ –≥–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω.",
        "user_removed_by_id": "‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å ID {user_id} —É–¥–∞–ª–µ–Ω –∏–∑ —Å–ø–∏—Å–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö.",
        "user_not_found": "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è @{username} –≤ —ç—Ç–æ–º —á–∞—Ç–µ.\n–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –µ—Å—Ç—å –≤ —á–∞—Ç–µ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —á–∏—Å–ª–æ–≤–æ–π ID.",
        "user_not_found_all_chats": "‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å @{username} –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫–µ—à–µ —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–∏ –≤ –æ–¥–Ω–æ–º –∏–∑ —á–∞—Ç–æ–≤.",
        "user_not_found_cache": "‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å @{username} –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫–µ—à–µ —Å–æ–æ–±—â–µ–Ω–∏–π —ç—Ç–æ–≥–æ —á–∞—Ç–∞. –û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–æ–º–∞–Ω–¥–æ–π /analyze_user.",
        "invalid_format": "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —á–∏—Å–ª–æ–≤–æ–π ID –∏–ª–∏ @username.",
        "invalid_format_username": "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ @username.",
        "invalid_format_mixed": "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ @username, —á–∏—Å–ª–æ–≤–æ–π user_id{reply_option}.",
        "error_adding_user": "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {error}",
        "error_removing_user": "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {error}",
        "error_finding_user": "‚ùå –û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {error}",

        # Command usage messages
        "add_user_usage": """‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
‚Ä¢ /add_user <user_id> - –¥–æ–±–∞–≤–∏—Ç—å –ø–æ ID
‚Ä¢ /add_user @username - –¥–æ–±–∞–≤–∏—Ç—å –ø–æ username
‚Ä¢ –û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–æ–º–∞–Ω–¥–æ–π /add_user""",
        
        "remove_user_usage": """‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
‚Ä¢ /remove_user <user_id> - —É–¥–∞–ª–∏—Ç—å –ø–æ ID
‚Ä¢ /remove_user @username - —É–¥–∞–ª–∏—Ç—å –ø–æ username
‚Ä¢ –û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–æ–º–∞–Ω–¥–æ–π /remove_user""",

        "analyze_user_usage": """‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
‚Ä¢ `/analyze_user @username` - –∞–Ω–∞–ª–∏–∑ –ø–æ –∏–º–µ–Ω–∏
‚Ä¢ –û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–æ–º–∞–Ω–¥–æ–π `/analyze_user`""",

        "analyze_user_all_usage_template": """‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
‚Ä¢ `/analyze_user_all @username` - –∞–Ω–∞–ª–∏–∑ –ø–æ –∏–º–µ–Ω–∏ –∏–∑ –≤—Å–µ—Ö —á–∞—Ç–æ–≤{reply_option}
‚Ä¢ `/analyze_user_all <user_id>` - –∞–Ω–∞–ª–∏–∑ –ø–æ —á–∏—Å–ª–æ–≤–æ–º—É ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è""",

        # Analysis messages
        "analyzing_communication": "ü§î –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –≤–∞—à —Å—Ç–∏–ª—å –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏...",
        "analyzing_user_communication": "ü§î –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é —Å—Ç–∏–ª—å –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ {username}...",
        "analyzing_all_chats": "ü§î –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é —Å—Ç–∏–ª—å –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –∏–∑ –≤—Å–µ—Ö —á–∞—Ç–æ–≤...",
        "analysis_sent_private": "‚úÖ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω @{username} –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.",
        "analysis_sent_private_simple": "‚úÖ –ê–Ω–∞–ª–∏–∑ {username} –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.",
        "analysis_sent_all_chats": "‚úÖ –ê–Ω–∞–ª–∏–∑ {username} –∏–∑ –≤—Å–µ—Ö —á–∞—Ç–æ–≤ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.\nüìä –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ {total_messages} —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ {chats_count} —á–∞—Ç–æ–≤.",
        "no_messages_for_analysis": "‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –≤–∞—Å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞. –ù–∞–ø–∏—à–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —á–∞—Ç–µ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.",
        "no_messages_for_user": "‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç {username} –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.",
        "no_messages_all_chats": "‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç {username} –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏–∑ –≤—Å–µ—Ö —á–∞—Ç–æ–≤. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –µ—â–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–ª —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–∞ –≤ —á–∞—Ç—ã.",
        "analysis_error": "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ: {error}",

        # Analysis notifications
        "analysis_started": "üîç –ù–∞—á–∏–Ω–∞—é –∞–Ω–∞–ª–∏–∑ {description} ({count} —Å–æ–æ–±—â–µ–Ω–∏–π). –û—Ç—á–µ—Ç –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.",
        "analysis_private_notification": "üîÑ –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é {description} –∏–∑ —á–∞—Ç–∞ '{chat_title}'. –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç...",
        "analysis_private_notification_error": "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –Ω–∞—á–∞–ª–∏ –¥–∏–∞–ª–æ–≥ —Å –±–æ—Ç–æ–º –∫–æ–º–∞–Ω–¥–æ–π /start.",
        "analysis_error_private": "‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ —Å–æ–æ–±—â–µ–Ω–∏–π. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –±–æ—Ç–∞.",

        # No messages for analysis
        "no_messages_analysis": """‚ùå –ù–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.

üîç **–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
‚Ä¢ –ë–æ—Ç –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω –Ω–µ–¥–∞–≤–Ω–æ –∏ –µ—â–µ –Ω–µ –Ω–∞–∫–æ–ø–∏–ª —Å–æ–æ–±—â–µ–Ω–∏—è
‚Ä¢ –ë–æ—Ç—ã –≤ Telegram –Ω–µ –≤–∏–¥—è—Ç –∏—Å—Ç–æ—Ä–∏—é –¥–æ –∏—Ö –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ —á–∞—Ç
‚Ä¢ –í —á–∞—Ç–µ –ø–æ–∫–∞ –Ω–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–∫–æ–º–∞–Ω–¥—ã –Ω–µ —Å—á–∏—Ç–∞—é—Ç—Å—è)

üí° **–†–µ—à–µ–Ω–∏–µ:** –ü–æ–¥–æ–∂–¥–∏—Ç–µ, –ø–æ–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –Ω–∞–ø–∏—à—É—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–∞.""",

        "insufficient_messages_template": """‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ {description}.

üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —á–∞—Ç–∞:**
‚Ä¢ –í—Å–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∫–µ—à–µ: {total_messages}
‚Ä¢ –ê–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: {unique_users}
‚Ä¢ –ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: {oldest_message}

üí° –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É —Å –º–µ–Ω—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–æ–æ–±—â–µ–Ω–∏–π –∏–ª–∏ –ø–æ–¥–æ–∂–¥–∏—Ç–µ –±–æ–ª—å—à–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ —á–∞—Ç–µ.""",

        # Chat stats messages
        "chat_stats_template": """üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —á–∞—Ç–∞ '{chat_title}'**

üí¨ **–°–æ–æ–±—â–µ–Ω–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:** {total_messages}
üß† **–°–æ–æ–±—â–µ–Ω–∏—è –≤ –ø–∞–º—è—Ç–∏:** {memory_messages}
üë• **–ê–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:** {unique_users}
üìÖ **–ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–µ—à–µ:** {oldest_message}
üïê **–ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–µ—à–µ:** {newest_message}

üîß **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–µ—à–∞:**
‚Ä¢ –ú–∞–∫—Å–∏–º—É–º –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö: {cache_size} —Å–æ–æ–±—â–µ–Ω–∏–π
‚Ä¢ –ú–∞–∫—Å–∏–º—É–º –≤ –ø–∞–º—è—Ç–∏: {memory_cache_size} —Å–æ–æ–±—â–µ–Ω–∏–π
‚Ä¢ –í—Å–µ–≥–æ –≤ –ø–∞–º—è—Ç–∏: {total_memory_messages} —Å–æ–æ–±—â–µ–Ω–∏–π
‚Ä¢ –ß–∞—Ç–æ–≤ –≤ –ø–∞–º—è—Ç–∏: {total_chats_in_memory}

{warning_message}""",

        "empty_cache_warning": "‚ùó **–í–Ω–∏–º–∞–Ω–∏–µ:** –ö–µ—à –ø—É—Å—Ç. –ë–æ—Ç –Ω–∞—á–Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã.",
        "low_messages_warning": "üí° **–°–æ–≤–µ—Ç:** –î–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –º–∏–Ω–∏–º—É–º 20-50 —Å–æ–æ–±—â–µ–Ω–∏–π.",

        # User list messages
        "user_list_empty": "üìù –°–ø–∏—Å–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—É—Å—Ç.",
        "user_list_template": "üìù **–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:**\n\n{user_list}",
        "user_list_item": "‚Ä¢ `{user_id}`{role}\n",
        "main_admin_role": " (–ì–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω)",

        # Memory clear messages
        "memory_cleared_template": """üßπ **–û—á–∏—Å—Ç–∫–∞ –ø–∞–º—è—Ç–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∞**

üìä **–î–æ –æ—á–∏—Å—Ç–∫–∏:**
‚Ä¢ –°–æ–æ–±—â–µ–Ω–∏–π –≤ –ø–∞–º—è—Ç–∏: {before_messages}
‚Ä¢ –ß–∞—Ç–æ–≤ –≤ –ø–∞–º—è—Ç–∏: {before_chats}

üìä **–ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏:**
‚Ä¢ –°–æ–æ–±—â–µ–Ω–∏–π –≤ –ø–∞–º—è—Ç–∏: {after_messages}
‚Ä¢ –ß–∞—Ç–æ–≤ –≤ –ø–∞–º—è—Ç–∏: {after_chats}

‚úÖ **–û—á–∏—â–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–π:** {cleared_messages}
üíæ **–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–æ –ø–∞–º—è—Ç–∏:** ~{freed_memory:.1f} KB""",

        # Analysis descriptions
        "last_100_description": "–ø–æ—Å–ª–µ–¥–Ω–∏—Ö 100 —Å–æ–æ–±—â–µ–Ω–∏–π",
        "last_24h_description": "—Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞",

        # Default usernames
        "default_username": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
        "default_username_id": "User_{user_id}",

        # Analysis titles
        "analysis_title_template": "üìä **–ê–Ω–∞–ª–∏–∑ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π: {chat_title}**\n\n{analysis_result}",

        # Cross-chat statistics
        "cross_chat_stats_template": """

üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—Å–µ–º —á–∞—Ç–∞–º:**
‚Ä¢ –í—Å–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π: {total_messages}
‚Ä¢ –ß–∞—Ç–æ–≤ —Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é: {chats_count}
{period_info}""",
        "period_info_template": "‚Ä¢ –ü–µ—Ä–∏–æ–¥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏: {oldest_date} - {newest_date}\n",

        # Unknown analysis type
        "unknown_analysis_type": "‚ùå –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø –∞–Ω–∞–ª–∏–∑–∞.",

        # No messages timestamps
        "no_messages": "–ù–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π",
    }

    # SQL Queries
    SQL_QUERIES = {
        "create_messages_table": """
            CREATE TABLE IF NOT EXISTS messages (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                chat_id INTEGER NOT NULL,
                user_id INTEGER NOT NULL,
                username TEXT,
                text TEXT,
                timestamp TEXT NOT NULL
            )
        """,
        
        "create_index_chat_time": "CREATE INDEX IF NOT EXISTS idx_messages_chat_time ON messages(chat_id, timestamp)",
        "create_index_user_time": "CREATE INDEX IF NOT EXISTS idx_messages_user_time ON messages(user_id, timestamp)",
        
        "insert_message": "INSERT INTO messages(chat_id, user_id, username, text, timestamp) VALUES (?, ?, ?, ?, ?)",
        
        "get_last_n_messages": "SELECT chat_id, user_id, username, text, timestamp FROM messages WHERE chat_id = ? ORDER BY timestamp DESC LIMIT ?",
        "get_messages_since": "SELECT chat_id, user_id, username, text, timestamp FROM messages WHERE chat_id = ? AND timestamp >= ? ORDER BY timestamp ASC",
        
        "get_chat_stats_count": "SELECT COUNT(*) as cnt, MIN(timestamp) as oldest, MAX(timestamp) as newest FROM messages WHERE chat_id = ?",
        "get_chat_stats_users": "SELECT COUNT(DISTINCT user_id) as users FROM messages WHERE chat_id = ?",
        
        "clear_chat": "DELETE FROM messages WHERE chat_id = ?",
        "get_all_chats": "SELECT DISTINCT chat_id FROM messages",
        
        "get_user_messages_with_limit": "SELECT chat_id, user_id, username, text, timestamp FROM messages WHERE chat_id = ? AND user_id = ? ORDER BY timestamp DESC LIMIT ?",
        "get_user_messages_without_limit": "SELECT chat_id, user_id, username, text, timestamp FROM messages WHERE chat_id = ? AND user_id = ? ORDER BY timestamp ASC",
        
        "get_user_messages_all_chats_with_limit": "SELECT chat_id, user_id, username, text, timestamp FROM messages WHERE user_id = ? ORDER BY timestamp DESC LIMIT ?",
        "get_user_messages_all_chats_without_limit": "SELECT chat_id, user_id, username, text, timestamp FROM messages WHERE user_id = ? ORDER BY timestamp ASC",
        
        "get_user_chat_stats_count": "SELECT COUNT(*) as cnt, MIN(timestamp) as oldest, MAX(timestamp) as newest FROM messages WHERE user_id = ?",
        "get_user_chat_stats_chats": "SELECT DISTINCT chat_id FROM messages WHERE user_id = ?",
    }
    
    @classmethod
    def validate(cls):
        """Validate that required configuration is present"""
        required_vars = [
            ("TELEGRAM_BOT_TOKEN", cls.TELEGRAM_BOT_TOKEN),
            ("OPENAI_API_KEY", cls.OPENAI_API_KEY),
        ]
        
        missing_vars = []
        for var_name, var_value in required_vars:
            if not var_value:
                missing_vars.append(var_name)
        
        if missing_vars:
            raise ValueError(f"Missing required environment variables: {', '.join(missing_vars)}")
        
        return True
